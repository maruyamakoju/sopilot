# SOPilot environment configuration — copy to .env and edit

# ── Security ───────────────────────────────────────────────────────
# API key: leave empty to disable authentication (dev mode)
# SOPILOT_API_KEY=your-secret-key-here

# CORS allowed origins (comma-separated). Default: localhost only
# Set to "*" to allow all origins (not recommended for production)
# SOPILOT_CORS_ORIGINS=http://localhost:8000,http://127.0.0.1:8000

# Maximum upload file size in MB (default: 500)
SOPILOT_MAX_UPLOAD_MB=500

# Embedder backend: "color-motion" (fast, no GPU) or "vjepa2" (production)
SOPILOT_EMBEDDER_BACKEND=color-motion

# Task settings
SOPILOT_PRIMARY_TASK_ID=pilot_task
SOPILOT_PRIMARY_TASK_NAME=PoC Primary Task
SOPILOT_ENFORCE_PRIMARY_TASK=true

# Score thresholds (0–100)
SOPILOT_DEFAULT_PASS_SCORE=60.0
SOPILOT_DEFAULT_RETRAIN_SCORE=50.0

# Video processing
SOPILOT_SAMPLE_FPS=4
SOPILOT_CLIP_SECONDS=4
SOPILOT_FRAME_SIZE=256

# Workers (increase for higher throughput)
SOPILOT_SCORE_WORKERS=1

# Logging: DEBUG / INFO / WARNING / ERROR
SOPILOT_LOG_LEVEL=INFO
# JSON structured logging (true) or plain text (false)
SOPILOT_LOG_JSON=true

# Score job retry: number of automatic retries on failure (0 = disabled)
SOPILOT_SCORE_JOB_MAX_RETRIES=2

# V-JEPA2 options (only relevant when SOPILOT_EMBEDDER_BACKEND=vjepa2)
SOPILOT_VJEPA2_VARIANT=vjepa2_vit_large
SOPILOT_VJEPA2_DEVICE=auto
SOPILOT_VJEPA2_POOLING=mean_tokens
SOPILOT_VJEPA2_USE_AMP=true

# ── VigilPilot — surveillance camera violation detection ─────────────────
# Required: Anthropic API key for Claude Vision frame analysis
# ANTHROPIC_API_KEY=sk-ant-your-key-here

# Optional: use a separate key just for VigilPilot (overrides ANTHROPIC_API_KEY)
# VIGIL_VLM_API_KEY=sk-ant-your-vigil-key-here

# Optional: override the Claude model used for frame analysis
# Default: claude-sonnet-4-6-20251022  (Claude Sonnet 4.6)
# VIGIL_VLM_MODEL=claude-sonnet-4-6-20251022

# Optional: VLM backend (currently only "claude" is supported)
# VIGIL_VLM_BACKEND=claude
